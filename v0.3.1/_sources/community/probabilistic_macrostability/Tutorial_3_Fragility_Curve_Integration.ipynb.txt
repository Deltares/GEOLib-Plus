{
 "cells": [
  {
   "cell_type": "markdown",
   "id": "e57c1a6b",
   "metadata": {},
   "source": [
    "### Tutorial 3: Integrating the fragility curve with the probability density function of the waterlevel, and derive influence coefficients after integration"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "dc93fda9",
   "metadata": {},
   "source": [
    "#### Create base `class DStabilityFragilityCurve` for fragility curve operations"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "id": "d92c9058",
   "metadata": {},
   "outputs": [],
   "source": [
    "# Loading the necesary packages\n",
    "import json # for reading fragility curves in D-Stability .json format\n",
    "import numpy as np # for array calculations\n",
    "import scipy.stats as st # for statisitcal functions\n",
    "import pandas as pd # for reading excel files\n",
    "import matplotlib.pyplot as plt\n",
    "\n",
    "from scipy.interpolate import interp1d # for linear interpolation and extrapolation outside the range\n",
    "from statistics import NormalDist\n",
    "from scipy.stats import norm\n",
    "from scipy.stats import gumbel_r"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "id": "f00eb582",
   "metadata": {},
   "outputs": [],
   "source": [
    "# Define some static functions\n",
    "\n",
    "def densify_extrapolate(x, y, xrange, xdelta):\n",
    "    xnew = np.arange(xrange[0], xrange[1] + xdelta, xdelta)\n",
    "    f = interp1d(x, y, kind='linear', bounds_error=False, fill_value='extrapolate')\n",
    "    ynew = f(xnew)\n",
    "    return xnew, ynew    \n",
    "\n",
    "# Preprocess the DStabilityFragilityCurve class\n",
    "class DStabilityFragilityCurve:\n",
    "    \n",
    "    def __init__(self, label, filename):\n",
    "        \"\"\" --- documentation generated by AI model\n",
    "        Initialize a DStabilityFragilityCurve object, and then\n",
    "        calls `preprocess_rawdata()` to save the raw data in a structured way\n",
    "\n",
    "        Args:\n",
    "            label (str): The label for the DStabilityFragilityCurve object.\n",
    "            filename (str): The name of the JSON file containing the raw data.\n",
    "\n",
    "        Returns:\n",
    "            None.\n",
    "\n",
    "        Raises:\n",
    "            FileNotFoundError: If the specified file does not exist.\n",
    "\n",
    "        \"\"\"     \n",
    "        self.Label = label\n",
    "        with open(filename, 'r') as f:\n",
    "            self.rawdata = json.load(f)\n",
    "        self.preprocess_rawdata()\n",
    "        \n",
    "    def preprocess_rawdata(self):\n",
    "        \"\"\"\n",
    "        Notes\n",
    "        \"\"\" \n",
    "        self.FragilityPoints = self.rawdata.get('Calculations')\n",
    "        self.Stochasts = self.rawdata.get('Stochasts')\n",
    "        self.Correlations = self.rawdata.get('Correlations')\n",
    "        \n",
    "        self.h = [point.get('WaterLevel') for point in self.FragilityPoints]\n",
    "        self.b = [point.get('Beta') for point in self.FragilityPoints]\n",
    "        self.bb =[ -1* point.get('Beta') for point in self.FragilityPoints]\n",
    "        self.p = norm.cdf(self.bb)\n",
    "        self.stochasts = {}\n",
    "        for stochast in self.Stochasts:\n",
    "            if stochast.get('ParameterType') == 'ModelFactor':\n",
    "                self.stochasts.update({stochast.get('Id'): stochast.get('ParameterType')})\n",
    "            else:\n",
    "                self.stochasts.update({stochast.get('Id'): stochast.get('ParameterType')+\n",
    "                                       '.'+stochast.get('Label')})\n",
    "    \n",
    "    def get_scenario_probability(self, file):\n",
    "        # Import the scenario probabliity (weights) from excel file. \n",
    "        # Note the column headers match the labels of the fragility curve\n",
    "        scenario_probability_data = pd.read_excel(file)\n",
    "        self.scenario_h = np.array(scenario_probability_data['h'])\n",
    "        self.scenario_p = np.array(scenario_probability_data[self.Label])\n",
    "        \n",
    "    def set_extrapolation_range_and_density(self, range_h, delta_h ):\n",
    "        self.range_h = range_h\n",
    "        self.delta_h = delta_h\n",
    "          \n",
    "    def densify_extrapolate_fc(self):\n",
    "        # beta's\n",
    "        self.H, self.B = densify_extrapolate(self.h, \n",
    "                                             self.b, \n",
    "                                             self.range_h, \n",
    "                                             self.delta_h)\n",
    "        self.HH, self.PP = densify_extrapolate(self.h, \n",
    "                                               norm.cdf(self.bb), \n",
    "                                               self.range_h, \n",
    "                                               self.delta_h) \n",
    "        # alpha's \n",
    "        self.alphas={}\n",
    "        self.Alphas={}\n",
    "        for unique_stochast_name in set([val for key, val in self.stochasts.items()]):\n",
    "            alphas = [contribution['Alpha'] for point in self.FragilityPoints \n",
    "                      for contribution in point.get('Contributions') \n",
    "                      if self.stochasts[contribution.get('Stochast')] == unique_stochast_name]\n",
    "            H, Alphas = densify_extrapolate(self.h, alphas, self.range_h, self.delta_h)\n",
    "            self.Alphas.update({unique_stochast_name:Alphas})\n",
    "        \n",
    "    def densify_extrapolate_p(self):\n",
    "        self.H, self.P = densify_extrapolate(self.scenario_h, \n",
    "                                             np.log10(self.scenario_p), \n",
    "                                             self.range_h, self.delta_h)\n",
    "        self.P = 10.**self.P\n",
    "        "
   ]
  },
  {
   "cell_type": "markdown",
   "id": "aa30479c",
   "metadata": {},
   "source": [
    "#### Specify the fragility curve names and locations. Instantiate a `DStabilityFragilityCurve` class and save in `FC_list`"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "id": "996df6cd",
   "metadata": {},
   "outputs": [],
   "source": [
    "# Specify the fragility curves in a List( tuple ( label [str] , filename [str] ) ) \n",
    "fragility_curves_list = [ ('FC_q1','../../_static/FC1.json' )]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "id": "be4c26a5",
   "metadata": {},
   "outputs": [],
   "source": [
    "# Import Fragility curves and store the data in a DStabilityFragilityCurve object.\n",
    "FC_list = []\n",
    "for (fc_label, filename) in fragility_curves_list:\n",
    "    FC = DStabilityFragilityCurve(fc_label, filename)\n",
    "    FC_list.append( FC )"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "214c12dc",
   "metadata": {},
   "source": [
    " #### Plot the fragility points and the extrapolated fragility curve"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "id": "0011e1e1",
   "metadata": {},
   "outputs": [],
   "source": [
    "# Choose the range to extrapolate the curves to, and the increment size for analysis\n",
    "range_h = [7,13]\n",
    "delta_h = 0.1\n",
    "            \n",
    "for FC in FC_list:\n",
    "    FC.set_extrapolation_range_and_density(range_h, delta_h)\n",
    "    FC.densify_extrapolate_fc()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "id": "54b544f9",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/png": "iVBORw0KGgoAAAANSUhEUgAAAewAAAF3CAYAAABni3jgAAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjUuMiwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy8qNh9FAAAACXBIWXMAAAsTAAALEwEAmpwYAABCL0lEQVR4nO3dd3xUVfrH8c9JIYGAgCAoIBAggHRIpIcFIiKCCpYVrOiCWIARV3fBddWfbXHVRYpYQMECYgWVpqIgTVR674QuINJCCSnn98dkQgIJZEJmbibzfb9e8yJ3cufeh2PkyTnnuecYay0iIiJSuIU4HYCIiIhcmBK2iIhIAFDCFhERCQBK2CIiIgFACVtERCQAKGGLiIgEAL8lbGNMHWPM8iyvo8aYR/11fxERkUBmnHgO2xgTCuwGWlhrt/s9ABERkQDj1JB4ArBFyVpERCRvnErYPYGPHbq3iIhIwPH7kLgxphiwB6hvrd2Xw/cfAB4AKF68eOyVV15ZYPdOT08nJER1dh5qjzPUFtmpPc5QW2Sn9siuoNtj48aNf1hrL8vpe04k7JuAR6y1117o3Li4OLt48eICu/ecOXNo3759gV0v0Kk9zlBbZKf2OENtkZ3aI7uCbg9jzBJrbVxO33Pi16ReaDhcRETEK35N2MaYKKAT8KU/7ysiIhLowvx5M2vtcaCcP+8pIiJSFPg1YYuIFKSUlBR27drFqVOnfHaP0qVLs27dOp9dP9CoPbLLb3tERkZSpUoVwsPD8/wZJWwRCVi7du2iVKlSVK9eHWOMT+5x7NgxSpUq5ZNrByK1R3b5aQ9rLQcPHmTXrl1ER0fn+XOqzReRgHXq1CnKlSvns2Qt4gvGGMqVK+f1yJB62CIS0PKarLcfPM6YeVuZsmwPx5NTiYoIo3vTSvSNr0G1clE+jlIku/z8kqmELSJF3uwN+3n4o6WkpKWTmu5eeyIpOZVJv+7kiyW7GX1XMzrUqeBwlCLnpyFxESnSth88zsMfLeVkSlpmsvZITbecTEnj4Y+Wsv3g8XxdPzQ0lCZNmmS+EhMTLzrmr7/+mqFDhwLw7LPP8uqrrwLw9NNPM2vWLABef/11Tpw44dV1q1evTsOGDWnUqBHXXnstv//+e67nLl68mIEDB573eocPH2b06NFexdC+fXvq1KmT2V6ff/45AL///js9e/akZs2axMbGcv3117Nx40avrg0watQoatWqhTGGP/74w+vPF2ZBlbAnbzrtdAgi4mdj5m0lJS39vOekpKUzdt62fF2/ePHiLF++PPNVvXr1zO9Za0lPP/+9c3LjjTcyePDgc95/7rnnuOaaa4D8JWyA2bNns3LlSuLi4njppZdyPS8uLo4RI0ac91r5SdgAEyZMyGyvW2+9FWstPXr0oH379mzZsoUlS5bwn//8h337zlm9+oLatGnDrFmzqFatmtefLeyCKmF/tSXF6RBExM+mLNtzTs/6bKnplsnLdhfI/RITE6lTpw733HMPDRo0YOfOnTz00EPExcVRv359nnnmmcxzp0+fTt26dYmNjWXgwIF069YNgPHjx9O/f/9zrt27d28+//xzRowYwZ49e+jQoQMdOnTgvffe49FHH808b8yYMQwaNOi8cbZr147Nmzdz6tQp7rvvPho2bEjTpk2ZPXs24F5y0xPPs88+y/3330/79u1p1KhRZiIfPHgwW7ZsoUmTJjzxxBPs3buXdu3a0aRJExo0aMC8efPy1GazZ88mPDycBx98MPO9xo0bEx8fn+P51lr69+9PnTp1uOaaa7j++usze+pNmzbN9ktTURI0c9jzNh1wOgQRccDx5NS8nXc6b+ed7eTJkzRp0gSA6Ohohg0bxqZNm3j//fdp2bIlAC+++CKXXnopaWlpJCQksHLlSmrXrk2/fv2YO3cu0dHR9OrVK8/3HDhwIP/73/+YPXs25cuXJykpiRdffJFXXnmF8PBwxo0bx9tvv33ea0ydOpWGDRvyxhtvYIxh1apVrF+/nmuvvTbHoej169cze/Zs9u7dS2xsLA899BBDhw5l9erVLF++HIDXXnuNzp07869//Yu0tLRcRwDuvPNOihcvDsAPP/zA6tWriY2NzfPff/LkyWzYsIG1a9eyb98+6tWrx/3335/nzweqIp+wh32/keE/bMo8rj54GgCuhBgGdartVFgi4idREWEk5SFpRxXL3z+HniFxj8TERKpVq5aZrAE+/fRT3nnnHVJTU9m7dy9r164lPT2dGjVqZD6H26tXL9555518xVCyZEk6duzI1KlTueqqq0hJSaFhw4Y5ntuhQwdCQ0Np1KgRL7zwAvfddx8DBgwAoG7dulSrVi3HhN21a1ciIiIoV64cFSpUyHG4+uqrr+b+++8nJSWF7t27Z/4ic7YJ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",
      "text/plain": [
       "<Figure size 576x432 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "def plot_fragility_curves(FC_list):\n",
    "    # Instantiate a figure with a specified size\n",
    "    fig = plt.figure(figsize=(8, 6))\n",
    "    ax = fig.add_subplot(1, 1, 1)\n",
    "        \n",
    "    # Set the axis labels and title\n",
    "    ax.set_xlabel('Water level, h')\n",
    "    ax.set_ylabel(r'Reliability index, $\\beta$')\n",
    "\n",
    "    def plot_fragility_points(fig, h, b, label, color):\n",
    "        # Add the fragility points to the figure\n",
    "        ax.plot(h, b, color=color, marker='o', markersize=10, linestyle='none', \n",
    "                label='Fragility Points {}'.format(label))\n",
    "    \n",
    "    def plot_extrapolated_fragility_curve(fig, h, b, label, color):\n",
    "        # Add the fragility points to the figure\n",
    "        ax.plot(h, b, color=color,  marker='+', linestyle='-', \n",
    "                label='Extrapolated Fragility Curve')\n",
    "     \n",
    "    colors = ['tab:blue']\n",
    "    for i, FC in enumerate(FC_list):\n",
    "        c = colors[i]\n",
    "        plot_fragility_points(fig, FC.h, FC.b, label=FC.Label, color=c)\n",
    "        plot_extrapolated_fragility_curve(fig, h=FC.H, b=FC.B, label=FC.Label, color=c)\n",
    "    \n",
    "    plt.legend()\n",
    "    plt.grid()\n",
    "    return fig, ax\n",
    "\n",
    "# Create the figure\n",
    "fig, ax = plot_fragility_curves(FC_list)\n",
    "\n",
    "# Show the figure\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "485e9973",
   "metadata": {},
   "source": [
    "***\n",
    "### Now we integrate the fragility curve with the probability density of water level.\n",
    "\n",
    "#### Here we assume the water level follows a Gumbel distribution. "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "id": "d28210f4",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/png": "iVBORw0KGgoAAAANSUhEUgAAAegAAAFzCAYAAAD18ZqMAAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjUuMiwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy8qNh9FAAAACXBIWXMAAAsTAAALEwEAmpwYAABNhUlEQVR4nO3dd3yW1f3/8dfJIEDCXgoogbCULREKFEhAxYpVqdY90B+K4sCFjdW2ti6+ReuoVVlCrSwX2oriYoPsEYaskEAYiqxAErLP7487607uTO6R3Pf7+XjkQXLd131dn5xHyCfnc851jrHWIiIiIjVLkK8DEBERkdKUoEVERGogJWgREZEaSAlaRESkBlKCFhERqYGUoEVERGqgEF8HUFzz5s1tZGSk266XlpZGeHi4265X26k9iqgtnKk9iqgtnKk9nLm7PTZs2HDMWtvC1Ws1KkFHRkayfv16t11vyZIlxMTEuO16tZ3ao4jawpnao4jawpnaw5m728MYs7+s1zxW4jbGdDHGbC72cdoY86in7iciIuJPPNaDttbuAnoDGGOCgUPAfE/dT0RExJ94a5LYcCDBWltmV15ERESKeCtB3wzM8dK9REREaj3j6c0yjDF1gMNAN2vtzy5evw+4D6BVq1Z9586d67Z7p6amEhER4bbr1XZqjyJqC2dqjyJqC2dqD2fubo/Y2NgN1tpoV695I0FfCzxorb2ionOjo6OtZnF7jtqjiNrCmdqjiNrCmdrDmQdmcZeZoL3xmNUtqLwtIl62/3gaU5fv47NNh0nLzCE8LITr+rTm3sEdaNdMz/VKzefRMWhjTDhwOfCpJ+8jIlLc4l1HufL15cxdm0xqZg4WSM3MYe7aZK58fTmLdx31dYgiFfJogrbWpllrm1lrUzx5HxGRAvuPpzHug42czc4lJ895CC8nz3I2O5dxH2xk//G0al0/ODiY3r17F34kJSWdc8z//e9/mThxIgDPPfccr7zyCgB//vOf+e677wB4/fXXSU9Pr9J1IyMj6dGjBz179uSKK67gp59+KvPc9evX88gjj5R7vVOnTvH2229XKYaYmBi6dOlS2F4ff/wxAD/99BM333wzUVFR9O3bl6uuuordu3dX6doAb731Fh07dsQYw7Fjx6r8/ppMa3GLiF+Zunwf2bl55Z6TnZvHtOWJ1bp+vXr12Lx5c+FH8eWJrbXk5ZV/b1euueYa4uLiSh3/29/+xmWXXQZUL0EDLF68mPj4eKKjo3nppZfKPC86Opo333yz3GtVJ0EDzJo1q7C9brjhBqy1jBo1ipiYGBISEtiwYQMvv/wyP/9cah5xhQYNGsR3331Hu3btqvzems6vE/T8PVm+DkFEvOyzTYdL9ZxLysmzzN90yC33S0pKokuXLtx55510796d5ORkHnjgAaKjo+nWrRt/+ctfCs/98ssv6dq1K3379uWRRx7h6quvBmDmzJk89NBDpa49evRoPv74Y958800OHz5MbGwssbGxvPfeezz66KOF502dOpXHHnus3DiHDBnC3r17ycjI4O6776ZHjx706dOHxYsXA47JTwXxPPfcc9xzzz3ExMRw6623FibuuLg4EhIS6N27NxMmTODIkSMMGTKE3r170717d5YvX16pNlu8eDGhoaHcf//9hcd69erF4MGDXZ5vreWhhx6iS5cuXHbZZVx11VWFPfE+ffrgzj0cahK/TtCfJ2T7OgQR8bK0zJzKnZdVufNKOnv2bGG5dtSoUQDs2bOHcePGsX37dtq1a8eLL77I+vXriY+PZ+nSpcTHx5ORkcHYsWP56quv2LBhA7/88kul7/nII4/QunVrFi9ezOLFi7nxxhv53//+R3a243fcjBkzuOeee8q9xhdffEGPHj3417/+hTGGrVu3MmfOHO666y4yMjJKnb9z506+/vpr3nnnHf7617+SnZ3NxIkTiYqKYvPmzUyaNInZs2czYsQINm/ezJYtW+jdu7fLe992222FbXb8+HG2bdtG3759K/39z58/n127drFjxw7ef/99Vq1aVen31mY1arMMd3rl612Ao5QVGuzXf4eISDHhYSGkViJJh9ep3q+/ghJ3gaSkJNq1a8evfvWrwmMffvghU6ZMIScnhyNHjrBjxw7y8vLo0KED7du3B+CWW25hypQp1YohIiKCYcOG8cUXX3DRRReRnZ1Njx49XJ4bGxtLcHAwPXv25IUXXuDuu+/m4YcfBqBr1660a9fO5djvyJEjCQsLo1GjRrRs2dJl+fnSSy/lnnvuITs7m+uuu67MBD1r1iyio10+SVQpy5Yt45ZbbiE4OJjWrVszbNiwal+rNvG7zPXat7uJjFvAW4v3AtDpma+IjFvA3xfuLHWeiPif6/q0JiTIlHtOSJBhVJ82brtn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c9ddd3HXXXfx3nvv8cgjj/DZZ585xfi73/2u8P7PPvss06dP5+GHH+aaa65xWoFr+PDhvPvuu3Tq1Ik1a9Ywbtw4Fi1axPjx43nggQe48847y12+s3hbtG/fntdee61S31/nzp0ZO3Ysy5Yto3379lVaS/yRRx7hH//4B4sXL6Z58+akpqby4osvMmnSJEJDQ5kxYwaTJ092es/27dvp3bs3wcHBlb5PgaysLApWuNy4cSNbtmwp3ElsxIgRhIaGct9997lsx3OlBF0FJUtkJcvfs8f054mPtnAkpfyda7Jz85i2PLFGrXAk4m8Onkzn0Kmi/4trEk8A0KZxXdo2qXxptKSyyrqXX345H330EQ8++CBbtmwp8/2V2ZqyIEEXJK5bbrmlsFf4ww8/8OmnnwJwxx138NRTT5W6x7Zt23j22Wc5deoUqampjBgxotQ5qamprFq1it///veFxzIzHZsJrVy5kk8++QSAK664osxedG3berM6brrpJqfP586dy2OPPcbcuXMZN25cue14rpSg3Whgx+acyah4H9qcPMv8TYeUoEXOwV9+263S50bGLSBp4shKnbtkyZJqxZOXl8ePP/5I/fr1OXnyJG3btnV5nqutKdetW0eTJk0YPXq009aUBZv+lPy8IqNHj+azzz6jV69ezJw50+X3lJeXR+PGjcscQ67K/YqryvfnLmPGjOGll16ia9euLrfe7NatG1u2bCE3N7dULzokJKSwbA2Uiq/493PNNdfw+OOPc+LECTZs2MCwYcNIS0srtx3Phcag3aSg/J1WiY3iAdKycjTzW8SPvPbaa1x00UXMnj2bu+++m+zsbABCQ0MLPy+prK0pCxRsSTlv3rzCHZwGDhzI3LlzAZg1axaDBw8udd0zZ85w/vnnk52dXbi1JDhvF9mwYUPat2/PRx99BDgmdRX0/AcNGlR4j4KZ09VRU7bejIqKIjo6mr/85S+FT94kJSWxYMECWrVqxdGjRzl+/DiZmZl88cUXZd43IiKCrl27Mn78eK6++mqCg4PLbcdzpQTtJgWl7vCwyhUlwoKDtPCJiJcUnz9yrgrGXQs+4uLi2LVrF9OmTePVV19l8ODBDBkyhBdeeAFwbBPZs2dPbrvttlLXKmtrygInT56kZ8+evPHGG7z22msA/POf/2TGjBn07NmT//znP7zxxhulrvv888/T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",
      "text/plain": [
       "<Figure size 576x432 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "# Introduce the water level distribution function and plot \n",
    "\n",
    "## Parameters of the statistical distribution\n",
    "mu= 11 \n",
    "std = 0.1\n",
    "\n",
    "## Calculating the pdf of the water level f(h); \n",
    "xnew = np.arange(range_h[0], range_h[1]+delta_h, delta_h)\n",
    "fh = np.empty(len(xnew), dtype=object)\n",
    "\n",
    "## Plot the Gumbel distribution and the fragility curve.\n",
    "r = gumbel_r.rvs(loc=mu, scale=std, size=1000)\n",
    "for h in range(len(xnew)):\n",
    "    fh[h]=gumbel_r.pdf(xnew[h], loc=mu, scale=std)\n",
    "\n",
    "fig, ax = plot_fragility_curves(FC_list)\n",
    "plt.plot(xnew , fh,'r-', lw=5, alpha=0.6, label='$f_h$')\n",
    "plt.hist(r, density=True, bins='auto', histtype='stepfilled', alpha=0.5,label='$f_h$ hist' )\n",
    "plt.xlabel(\"Water level, h\")\n",
    "plt.ylabel(\"Reliability\")   \n",
    "plt.legend(loc='best', frameon=False)\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "14c9824b",
   "metadata": {},
   "source": [
    "***\n",
    "### Calculating the probability of exceedence for range of H"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "8e4291cb",
   "metadata": {},
   "source": [
    "$ P_f = \\int P(F|h) . f_h(h) dh $"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "id": "0d288286",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Sum of $f_h$ =  1.0006303391435327\n"
     ]
    }
   ],
   "source": [
    "## Calculating the f(h); \n",
    "xnew = np.arange(range_h[0], range_h[1]+delta_h, delta_h)\n",
    "fh = np.empty(len(xnew), dtype=object)\n",
    "\n",
    "for h in range(len(xnew)):\n",
    "    fh[h]=gumbel_r.pdf(xnew[h], loc=mu, scale=std)   #Gumbel distribution\n",
    "\n",
    "# Integrate f(h) with stepsize of delta_h -> 1\n",
    "sumFh = sum(fh)*delta_h\n",
    "print('Sum of $f_h$ = ', sum(fh)*delta_h )"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "id": "083b7ae8",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Total failure probability after integration = 3.19e-05\n",
      "Reliability index after integration = 3.998\n"
     ]
    }
   ],
   "source": [
    "#print('The fragility curve is now desified over range {} with \\\n",
    "# stepsize {}:'.format(range_h,delta_h))\n",
    "#print('H',FC_list[0].H)\n",
    "#print('Beta',FC_list[0].B)\n",
    "#print('Pf',norm.cdf(-1*FC_list[0].B)) #P(f/h)\n",
    "#print('fh',fh)  #f(h)\n",
    "\n",
    "P_fh = norm.cdf(-1*FC_list[0].B)                #P(f|h)        \n",
    "Pf = P_fh* fh * delta_h                         #P(f/h)*f(h)*delta    \n",
    "\n",
    "sumPf = sum(Pf)/sumFh\n",
    "print('Total failure probability after integration = %0.2e'%(sumPf))\n",
    "\n",
    "Beta = -1*norm.ppf(sumPf)                        #K2\n",
    "print('Reliability index after integration = %0.3f'%(Beta))"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "d5c18652",
   "metadata": {},
   "source": [
    "***\n",
    "## Calculating the influence coefficients after integration $\\alpha_i | h $\n",
    "\n",
    "$\\alpha_h = \\frac{u^*}{ -\\beta} =\\frac{ \\Phi^{-1}(F_h(h^*))} { \\Phi^{-1}(P_f)}$\n",
    "\n",
    "$ \\Sigma_i ( \\alpha_i |h^*)^2 +\\alpha_h^2 =1 $\n",
    "\n",
    "$\\alpha_{T_i} ^2 = (\\alpha_i |h^*)^2(1-\\alpha_h^2) $  \n",
    "\n",
    "where:\n",
    "\n",
    "$\\alpha_{T_i} $ : transformed influence coefficient(s) of strength variable \n",
    "\n",
    "$ \\alpha_i |h^*$: Influence coefficient(s) of strength variable, directly from FORM at design point water level (e.g., based on interpolation between fragility points)\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "id": "fe8256be",
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "u*, design point (genormeerde waterstand) =  -2.860139676806077\n",
      "\n",
      "𝛼_ℎ (invloedscoëfficiënt van het waterstand) = 0.7153517909441423\n",
      "\n",
      "α_i |h^* =  [ 0.05643247  0.          0.         -0.30353334  0.83616773  0.06107594\n",
      "  0.34022656  0.          0.17395521]\n",
      "\n",
      "Sum of influence factors after integrating the probbaility of water level is:  0.9442383788975067\n"
     ]
    }
   ],
   "source": [
    "#calculating alphas in given design point water level (h_Star)\n",
    "Hs= 11.846                                         \n",
    "\n",
    "# Calculating u* for h*\n",
    "P_us=gumbel_r.pdf(Hs, loc=mu, scale=std)          # \\Phi^{-1}(F_h(h*))\n",
    "us = st.norm.ppf(P_us)                           \n",
    "\n",
    "print('u*, design point (genormeerde waterstand) = ', us)\n",
    "print()\n",
    "alphaH = us/-Beta                                #alphaH = us/-Beta\n",
    "\n",
    "print('𝛼_ℎ (invloedscoëfficiënt van het waterstand) =', alphaH)\n",
    "print()\n",
    "#Getting alphas befor integrating for H^star ( interpolated through fragility curve)\n",
    "\n",
    "a=FC_list[0].Alphas                       \n",
    "for i in a.keys():                          \n",
    "    values = np.array(list(a.values()))\n",
    "\n",
    "# to see the list of parameters\n",
    "#print(a.keys())                               \n",
    "\n",
    "# a function to find the related alpha set interpolated at given h*\n",
    "def find_nearest(array, value):                \n",
    "    array = np.asarray(array)\n",
    "    idx = (np.abs(array - value)).argmin()\n",
    "    return idx\n",
    "\n",
    "idx = find_nearest(FC_list[0].H, value=Hs)    # Finding the related 𝛼𝑖|ℎ∗  based on the h*\n",
    "\n",
    "Alphas = np.zeros(len(values))\n",
    "for i in range(len(values)):\n",
    "    Alphas[i]=values[i][idx]\n",
    "    \n",
    "print('α_i |h^* = ', Alphas)    \n",
    "print()\n",
    "\n",
    "print('Sum of influence factors after integrating the probbaility of water level is: ',\n",
    "      sum(Alphas**2)) \n",
    "\n",
    "# check is equal to 1 if not we should normalize them.\n",
    "# warning:  The Alphas are not added upt to 1 ( error tolerance 1%) \n",
    "# And your Alphas after integration are not reliable."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "id": "ac0185ae",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "The influence factors of strength paramters are:\n",
      " [0.00155496 0.         0.         0.0449857  0.34138816 0.00182139\n",
      " 0.05651947 0.         0.01477531]\n",
      "\n",
      "Influence factor from water level =  0.5389550127608109\n"
     ]
    }
   ],
   "source": [
    "# transformed influence coefficient(s) of parameters to be determined\n",
    "Alpha_T = Alphas**2*(1-alphaH**2)                \n",
    "print('The influence factors of strength paramters are:\\n', Alpha_T)\n",
    "\n",
    "print()\n",
    "print('Influence factor from water level = ', 1-sum(Alpha_T))"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3 (ipykernel)",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.10.11"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
